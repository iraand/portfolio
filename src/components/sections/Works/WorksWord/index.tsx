import './index.scss'
import { useLayoutEffect, useRef } from 'react'
import gsap from "gsap";
// import DrawSVGPlugin from "gsap/DrawSVGPlugin";
import { ScrollTrigger } from "gsap/ScrollTrigger";

const WorksWord = () => {
  const works = useRef<HTMLHeadingElement>(null)

  useLayoutEffect(() => {
    // gsap.registerPlugin(DrawSVGPlugin);

    const timeline = gsap.timeline({ paused:true, defaults: { ease: 'none' } })
      .fromTo(".works",
        {
          drawSVG: '100% 100%',
        },       
        {
        drawSVG: "100%",
        duration: 2
      })

      ScrollTrigger.create({
          animation: timeline,
          trigger: works.current,
          start: "top top",
          toggleActions: "play none none reverse", 
      });

  }, [])


  return (
    <div className="works__word" ref={works}>
        <svg id="a" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 379.71 73.3">
            <path className='letter works' d="M31.35,.61h15.37l7.53,23.11L61.79,.61h15.47l-12.32,33.59,7.33,19.24L90.4,.51h18.22l-28.2,72.28h-14.46l-11.71-28.3-11.6,28.3h-14.56L0,.51H18.12l18.22,52.94,7.13-19.24L31.35,.61Z"/>
            <path className='letter works' d="M143.84,73.3c-5.43,0-10.33-1.03-14.71-3.1-4.38-2.07-8.14-4.85-11.3-8.35-3.16-3.49-5.58-7.43-7.28-11.81-1.7-4.38-2.54-8.91-2.54-13.59s.9-9.4,2.7-13.74c1.8-4.34,4.31-8.23,7.53-11.66,3.22-3.43,7.04-6.12,11.45-8.09,4.41-1.97,9.23-2.95,14.46-2.95s10.23,1.04,14.61,3.1c4.38,2.07,8.14,4.87,11.3,8.4,3.16,3.53,5.58,7.48,7.28,11.86,1.7,4.38,2.54,8.84,2.54,13.39,0,4.82-.88,9.4-2.65,13.74-1.77,4.34-4.28,8.23-7.53,11.66-3.26,3.43-7.08,6.14-11.45,8.14-4.38,2-9.18,3-14.41,3Zm-18.83-36.65c0,2.78,.41,5.48,1.22,8.09,.81,2.61,2.02,4.94,3.61,6.97,1.59,2.04,3.58,3.67,5.96,4.89,2.38,1.22,5.09,1.83,8.14,1.83s5.97-.63,8.35-1.88c2.38-1.25,4.34-2.93,5.9-5.04,1.56-2.1,2.73-4.46,3.51-7.07,.78-2.61,1.17-5.28,1.17-7.99s-.41-5.46-1.22-8.04c-.81-2.58-2.04-4.9-3.67-6.97-1.63-2.07-3.63-3.68-6.01-4.84-2.38-1.15-5.06-1.73-8.04-1.73-3.19,0-5.96,.61-8.3,1.83-2.34,1.22-4.31,2.87-5.91,4.94-1.59,2.07-2.78,4.41-3.56,7.02-.78,2.61-1.17,5.28-1.17,7.99Z"/>
            <path className='letter works' d="M189.55,72.79V.51h32.58c3.39,0,6.53,.7,9.42,2.09,2.88,1.39,5.38,3.26,7.48,5.6,2.1,2.34,3.75,4.97,4.94,7.89,1.19,2.92,1.78,5.87,1.78,8.86s-.48,5.82-1.43,8.5c-.95,2.68-2.31,5.09-4.07,7.23-1.77,2.14-3.87,3.89-6.31,5.24l15.88,26.88h-18.43l-13.84-23.31h-11.3v23.31h-16.69Zm16.69-37.87h15.27c1.36,0,2.56-.42,3.61-1.27,1.05-.85,1.92-2.02,2.6-3.51,.68-1.49,1.02-3.22,1.02-5.19s-.39-3.68-1.17-5.14c-.78-1.46-1.75-2.6-2.9-3.41-1.15-.81-2.38-1.22-3.66-1.22h-14.76v19.75Z"/>
            <path className='letter works' d="M257.76,72.79V.51h16.69V31.66L300.92,.51h18.73l-27.08,32.27,28.91,40.01h-19.14l-20.36-29.01-7.53,7.74v21.28h-16.69Z"/>
            <path className='letter works' d="M370.24,21.79c-.2-.34-.92-.87-2.14-1.58-1.22-.71-2.75-1.48-4.58-2.29s-3.83-1.53-6.01-2.14c-2.17-.61-4.34-.92-6.52-.92-2.85,0-5.06,.49-6.62,1.47-1.56,.98-2.34,2.48-2.34,4.5,0,1.62,.59,2.9,1.78,3.84,1.19,.94,2.9,1.77,5.14,2.48,2.24,.71,4.99,1.53,8.25,2.48,4.61,1.21,8.62,2.68,12.01,4.4,3.39,1.72,5.99,3.93,7.79,6.62,1.8,2.7,2.7,6.27,2.7,10.72,0,4.04-.75,7.47-2.24,10.26-1.49,2.8-3.51,5.05-6.06,6.77-2.54,1.72-5.45,2.96-8.7,3.74-3.26,.77-6.62,1.16-10.08,1.16s-7.14-.36-10.84-1.07c-3.7-.71-7.25-1.73-10.64-3.05-3.39-1.32-6.52-2.94-9.37-4.84l7.33-14.56c.27,.34,1.15,.97,2.65,1.88,1.49,.92,3.34,1.87,5.55,2.85,2.21,.98,4.67,1.85,7.38,2.6,2.71,.75,5.46,1.12,8.25,1.12,2.99,0,5.21-.46,6.67-1.39,1.46-.93,2.19-2.23,2.19-3.89,0-1.82-.76-3.24-2.29-4.25-1.53-1.01-3.6-1.92-6.21-2.73-2.61-.81-5.62-1.72-9.01-2.73-4.41-1.35-8.06-2.87-10.94-4.56-2.89-1.69-5.02-3.74-6.41-6.17-1.39-2.43-2.09-5.47-2.09-9.11,0-5.06,1.2-9.33,3.61-12.81,2.41-3.48,5.65-6.11,9.72-7.9,4.07-1.79,8.52-2.68,13.33-2.68,3.39,0,6.67,.41,9.82,1.22,3.16,.81,6.11,1.83,8.86,3.05,2.75,1.22,5.21,2.44,7.38,3.66l-7.33,13.84Z"/>
        </svg>
    </div>
  )
}

export default WorksWord